<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ayasofya Charity</title>

  <!-- Pi SDK v2 -->
  <script src="https://sdk.minepi.com/v2/pi-sdk.js"></script>

  <!-- Stil dosyasÄ± -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <img src="images/file_0000000065e461fd989f950fa315eda7.png" alt="Ayasofya Logo" class="logo">
    <h1>Ayasofya Charity</h1>
  </header>

  <main>
    <section class="about">
      <h2>HakkÄ±mÄ±zda</h2>
      <p>
        Ayasofya Charity, ihtiyaÃ§ sahiplerine destek olmak amacÄ±yla kurulmuÅŸ bir baÄŸÄ±ÅŸ platformudur.
        Pi Network aÄŸÄ± Ã¼zerinden gÃ¼venli ve ÅŸeffaf baÄŸÄ±ÅŸ yapÄ±lmasÄ±nÄ± saÄŸlar.
      </p>
    </section>

    <section class="donate">
      <h2>BaÄŸÄ±ÅŸ Yap</h2>
      <button id="pi-button">Pi Wallet ile BaÄŸlan</button>
      <div id="pi-status" style="margin-top:12px;color:#333;font-size:14px;"></div>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Ayasofya Charity | TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
  </footer>

  <script>
    console.log("ğŸ”¹ Ayasofya Charity yÃ¼klendi");

    const statusEl = document.getElementById("pi-status");
    const button = document.getElementById("pi-button");

    // Pi SDK yÃ¼klÃ¼ mÃ¼ kontrol et
    if (window.Pi) {
      console.log("âœ… Pi SDK yÃ¼klendi");
      statusEl.textContent = "Pi SDK yÃ¼klendi, baÄŸlanabilirsiniz.";

      Pi.init({ version: "2.0" });

      button.addEventListener("click", async () => {
        try {
          const scopes = ["username", "payments"];
          const user = await Pi.authenticate(scopes, onIncompletePaymentFound);
          console.log("ğŸ‘¤ KullanÄ±cÄ±:", user);
          alert("Pi Wallet ile baÄŸlandÄ±nÄ±z, @" + user.username);
        } catch (err) {
          console.error("âŒ Hata:", err);
          alert("BaÄŸlantÄ± baÅŸarÄ±sÄ±z. LÃ¼tfen tekrar deneyin.");
        }
      });

      function onIncompletePaymentFound(payment) {
        console.log("â³ TamamlanmamÄ±ÅŸ Ã¶deme:", payment);
      }
    } else {
      console.warn("âŒ Pi SDK bulunamadÄ±");
      statusEl.textContent = "Pi SDK yÃ¼klenemedi. LÃ¼tfen Pi Browser iÃ§inde aÃ§Ä±nÄ±z!";
      button.addEventListener("click", () => {
        alert("Bu sayfayÄ± Pi Browser iÃ§inde aÃ§manÄ±z gerekiyor!");
      });
    }
  </script>
</body>
</html>
