<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ayasofya Charity</title>
  <link rel="icon" type="image/png" href="images/logo.png">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background-color: #fafafa;
    }
    header {
      background-color: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 20px;
    }
    .logo {
      width: 150px;
      height: auto;
    }
    h2 {
      color: #444;
    }
    section {
      margin: 30px auto;
      max-width: 600px;
      padding: 10px;
    }
    button {
      background-color: #8b5cf6;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background-color: #7c3aed;
    }
    footer {
      margin-top: 40px;
      font-size: 14px;
      color: #777;
      padding: 10px;
    }
  </style>
</head>
<body>

  <header>
    <img src="images/logo.png" alt="Ayasofya Logo" class="logo">
    <h1>Ayasofya Charity</h1>
  </header>

  <section>
    <h2>HakkÄ±mÄ±zda</h2>
    <p>Ayasofya Charity, ihtiyaÃ§ sahiplerine destek olmak amacÄ±yla kurulmuÅŸ bir baÄŸÄ±ÅŸ platformudur. 
    Pi Network aÄŸÄ± Ã¼zerinden gÃ¼venli ve ÅŸeffaf baÄŸÄ±ÅŸ yapÄ±lmasÄ±nÄ± saÄŸlar.</p>
  </section>

  <section>
    <h2>BaÄŸÄ±ÅŸ Yap</h2>
    <button id="pi-donate">Pi Wallet ile BaÄŸlan</button>
    <p id="status" style="color:green; margin-top:10px;">âœ… Pi SDK yÃ¼klendi. Pi Browser iÃ§indesiniz.</p>
  </section>

  <footer>
    Â© 2025 Ayasofya Charity | TÃ¼m haklarÄ± saklÄ±dÄ±r
  </footer>

  <!-- Pi SDK -->
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>
  // SDK baÅŸlatÄ±lÄ±yor
  Pi.init({ version: "2.0" });

  const donateButton = document.getElementById("pi-donate");
  const statusText = document.getElementById("status");

  donateButton.addEventListener("click", async () => {
    try {
      const scopes = ['payments'];
      const auth = await Pi.authenticate(scopes, onIncompletePaymentFound);
      console.log("KullanÄ±cÄ±:", auth.user);
      statusText.innerHTML = "âœ… Valide baÄŸlantÄ± saÄŸlandÄ±!";
      alert("BaÄŸlantÄ± baÅŸarÄ±lÄ±! ArtÄ±k baÄŸÄ±ÅŸ yapabilirsiniz ğŸ™");
    } catch (error) {
      console.error("BaÄŸlantÄ± hatasÄ±:", error);
      statusText.innerHTML = "âŒ BaÄŸlantÄ± baÅŸarÄ±sÄ±z. LÃ¼tfen Pi Browser iÃ§inde deneyin.";
    }
  });

  function onIncompletePaymentFound(payment) {
    console.log("Eksik Ã¶deme bulundu:", payment);
  }
</script>
</body>
</html>
